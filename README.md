# Snake 游戏

这是一个使用 SDL3 实现的经典贪吃蛇游戏。游戏设计注重内存效率和性能优化，提供了流畅的游戏体验。

## 功能特性

- 经典的贪吃蛇玩法
- 流畅的图形渲染
- 碰撞检测和边界处理
- 食物随机生成
- 蛇身自动增长
- 游戏重置功能

## 技术实现

### 核心数据结构

- `SnakeContext`: 存储蛇的状态信息
  - 使用位域优化的网格系统
  - 蛇头和蛇尾位置追踪
  - 移动方向控制
  - 占用格子计数

- `AppState`: 管理游戏全局状态
  - SDL 窗口和渲染器
  - 游戏计时器
  - 蛇的状态上下文

### 主要算法

1. 游戏初始化
   - 设置窗口和渲染器
   - 初始化蛇的位置和方向
   - 生成初始食物

2. 游戏循环
   - 固定时间步长更新
   - 事件处理（键盘输入）
   - 状态更新（蛇的移动、碰撞检测）
   - 场景渲染

3. 碰撞处理
   - 边界环绕（穿墙）
   - 自身碰撞检测
   - 食物收集判定

## 控制说明

- 方向键：控制蛇的移动方向
- R 键：重置游戏
- ESC/Q 键：退出游戏

## 编译和运行

项目使用 PlatformIO 构建系统，依赖 SDL3 库。

### 环境要求

- PlatformIO
- SDL3 开发库
- C++ 编译器

### 构建步骤

1. 克隆项目
2. 安装依赖
3. 使用 PlatformIO 编译和运行

```bash
pio run -t upload
```

## 技术亮点

1. 高效的内存管理
   - 使用位域存储网格状态
   - 优化的数据结构设计

2. 流畅的游戏体验
   - 固定时间步长更新
   - 平滑的图形渲染

3. 可维护的代码结构
   - 清晰的模块划分
   - 良好的代码注释

## 许可证

本代码属于公共领域，可以自由使用于任何目的。